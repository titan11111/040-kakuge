<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>格闘ゲーム - スト2風</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- ゲーム情報表示 -->
        <div class="game-info">
            <div class="player-info">
                <div class="player-name">プレイヤー1 (リュウ)</div>
                <div class="health-bar">
                    <div class="health" id="player1-health"></div>
                </div>
                <div class="wins">勝利数: <span id="player1-wins">0</span></div>
            </div>
            
            <div class="round-info">
                <div class="round-text">ラウンド <span id="current-round">1</span></div>
                <div class="timer" id="timer">60</div>
                <div class="fight-text" id="fight-text">FIGHT!</div>
            </div>
            
            <div class="player-info">
                <div class="player-name">プレイヤー2 (ケン)</div>
                <div class="health-bar">
                    <div class="health" id="player2-health"></div>
                </div>
                <div class="wins">勝利数: <span id="player2-wins">0</span></div>
            </div>
        </div>

        <!-- ゲーム画面 -->
        <div class="game-screen">
            <canvas id="gameCanvas" width="800" height="400"></canvas>
            
            <!-- ゲーム開始画面 -->
            <div class="start-screen" id="start-screen">
                <div class="game-title">
                    <h1>格闘ゲーム</h1>
                    <p>スト2風バトル</p>
                </div>
                <button class="start-btn" onclick="startGame()">ゲームスタート</button>
                <div class="instructions">
                    <h3>遊び方</h3>
                    <p>3ラウンド制で2ラウンド先取で勝利！</p>
                    <p>制限時間は各ラウンド60秒</p>
                </div>
            </div>
        </div>

        <!-- 操作説明 -->
        <div class="controls" id="controls">
            <div class="control-section">
                <h3>プレイヤー1 (リュウ)</h3>
                <p><strong>移動:</strong> A(←), D(→)</p>
                <p><strong>ジャンプ:</strong> W | <strong>しゃがみ:</strong> S</p>
                <p><strong>パンチ:</strong> J | <strong>キック:</strong> K</p>
                <p><strong>必殺技:</strong> W + J (波動拳)</p>
            </div>
            <div class="control-section">
                <h3>プレイヤー2 (ケン)</h3>
                <p><strong>移動:</strong> ←, →</p>
                <p><strong>ジャンプ:</strong> ↑ | <strong>しゃがみ:</strong> ↓</p>
                <p><strong>パンチ:</strong> 1 | <strong>キック:</strong> 2</p>
                <p><strong>必殺技:</strong> ↑ + 1 (昇龍拳)</p>
            </div>
        </div>

        <!-- ラウンド結果表示 -->
        <div class="round-result" id="round-result">
            <div class="round-result-text" id="round-result-text"></div>
            <div class="round-continue">次のラウンドまで<span id="countdown">3</span>秒...</div>
        </div>

        <!-- ゲーム結果表示 -->
        <div class="game-result" id="game-result">
            <div class="result-content">
                <div class="result-text" id="result-text"></div>
                <div class="final-score">
                    <p>最終スコア</p>
                    <p>プレイヤー1: <span id="final-p1-wins">0</span>勝</p>
                    <p>プレイヤー2: <span id="final-p2-wins">0</span>勝</p>
                </div>
                <div class="result-buttons">
                    <button class="restart-btn" onclick="restartGame()">もう一度遊ぶ</button>
                    <button class="menu-btn" onclick="backToMenu()">メニューに戻る</button>
                </div>
            </div>
        </div>

        <!-- ポーズ画面 */
        <div class="pause-screen" id="pause-screen">
            <div class="pause-content">
                <h2>ポーズ中</h2>
                <div class="pause-buttons">
                    <button class="resume-btn" onclick="resumeGame()">ゲーム再開</button>
                    <button class="restart-btn" onclick="restartGame()">リスタート</button>
                    <button class="menu-btn" onclick="backToMenu()">メニューに戻る</button>
                </div>
            </div>
        </div>

        <!-- 設定パネル -->
        <div class="settings-panel" id="settings-panel">
            <div class="settings-content">
                <h3>設定</h3>
                <div class="setting-item">
                    <label>音量: <span id="volume-value">50</span>%</label>
                    <input type="range" id="volume-slider" min="0" max="100" value="50">
                </div>
                <div class="setting-item">
                    <label>難易度</label>
                    <select id="difficulty">
                        <option value="easy">やさしい</option>
                        <option value="normal" selected>ふつう</option>
                        <option value="hard">むずかしい</option>
                    </select>
                </div>
                <button class="close-settings" onclick="closeSettings()">閉じる</button>
            </div>
        </div>
    </div>

    <!-- 設定ボタン -->
    <button class="settings-btn" onclick="openSettings()" title="設定">⚙️</button>
    
    <!-- ポーズボタン -->
    <button class="pause-btn" onclick="pauseGame()" id="pause-btn" title="ポーズ">⏸️</button>

    <!-- フルスクリーンボタン -->
    <button class="fullscreen-btn" onclick="toggleFullscreen()" title="フルスクリーン">⛶</button>

    <!-- デバッグ情報 -->
    <div class="debug-info" id="debug-info" style="display: none;">
        <div id="debug-content"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>